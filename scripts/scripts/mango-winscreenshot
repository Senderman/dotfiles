#!/bin/sh

data="$(mmsg -g -x)"

x="$(printf %s "${data}" | rg x      | cut -d' ' -f3)"
y="$(printf %s "${data}" | rg y      | cut -d' ' -f3)"
w="$(printf %s "${data}" | rg width  | cut -d' ' -f3)"
h="$(printf %s "${data}" | rg height | cut -d' ' -f3)"
geometry="$(printf '%d,%d %dx%d' "$x" "$y" "$w" "$h")"
grim -g "${geometry}" -t ppm - | satty -f -

