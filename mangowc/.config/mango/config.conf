# https://github.com/DreamMaoMao/mango/wiki/

# Appearance
borderpx=3
rootcolor=0x201b14ff
bordercolor=0x242757ff
focuscolor=0x9b98ffff
maximizescreencolor=0x89aa61ff
urgentcolor=0xbd2c40ff
scratchpadcolor=0x516c93ff
globalcolor=0xb153a7ff
overlaycolor=0x14a57cff

# Animation Configuration(support type:zoom,slide)
# tag_animation_direction: 0-horizontal,1-vertical
animations=1
layer_animations=1
animation_type_open=zoom
animation_type_close=slide
tag_animation_direction=1

# Master-Stack Layout Setting
default_mfact=0.50
smartgaps=1

# Overview Setting
enable_hotarea=0
overviewgappi=5
overviewgappo=5
ov_tab_mode=1

# Misc
no_border_when_single=1
focus_on_activate=0
drag_tile_to_tile=1
axis_bind_apply_timeout=0

# keyboard
xkb_rules_layout=us,ru
xkb_rules_options=grp:caps_select

# Trackpad
# need relogin to make it apply
trackpad_natural_scrolling=1
disable_while_typing=0
swipe_min_threshold=1

# Trackpad gestures 
# for some reason directions on my trackpad are inverted so LEFT is actually RIGHT and vise versa
gesturebind=none,LEFT,3,viewtoright
gesturebind=none,RIGHT,3,viewtoleft
gesturebind=none,UP,3,toggleoverview

# layout support:
# tile,scroller,grid,deck,monocle,center_tile,vertical_tile,vertical_scroller
tagrule=id:1,layout_name:tgmix
tagrule=id:2,layout_name:tgmix
tagrule=id:3,layout_name:tgmix
tagrule=id:4,layout_name:tgmix
tagrule=id:5,layout_name:tgmix
tagrule=id:6,layout_name:tgmix
tagrule=id:7,layout_name:tgmix
tagrule=id:8,layout_name:tgmix
tagrule=id:9,layout_name:tgmix

# Key Bindings
# key name refer to `xev` or `wev` command output,
# mod keys name: super,ctrl,alt,shift,none

bind=SUPER,q,killclient
bind=SUPER+SHIFT,r,reload_config

# switch window focus
bind=SUPER,Tab,focusstack,next
bind=SUPER+SHIFT,Tab,focusstack,prev
bind=SUPER,k,focusdir,up
bind=SUPER,j,focusdir,down
bind=SUPER,h,focusdir,left
bind=SUPER,l,focusdir,right
bind=SUPER,Return,zoom

# swap windows
bind=SUPER+SHIFT,k,exchange_client,up
bind=SUPER+SHIFT,j,exchange_client,down
bind=SUPER+SHIFT,h,exchange_client,left
bind=SUPER+SHIFT,l,exchange_client,right

# movewin
bind=SUPER,Up,movewin,+0,-50
bind=SUPER,Down,movewin,+0,+50
bind=SUPER,Left,movewin,-50,+0
bind=SUPER,Right,movewin,+50,+0

# resize window
bind=SUPER+SHIFT,Up,resizewin,+0,-50
bind=SUPER+SHIFT,Down,resizewin,+0,+50
bind=SUPER+SHIFT,Left,resizewin,-50,+0
bind=SUPER+SHIFT,Right,resizewin,+50,+0

# switch window status
bind=ALT,Tab,toggleoverview
bind=SUPER,f,togglefloating
bind=SUPER+SHIFT,f,togglefullscreen
bind=SUPER,a,togglemaximizescreen
bind=SUPER,g,toggleglobal
bind=SUPER,o,toggleoverlay
bind=SUPER,i,minimized
bind=SUPER+SHIFT,I,restore_minimized
bind=SUPER,z,toggle_scratchpad

# switch layout
bind=SUPER,n,spawn_shell,mmsg -L | fuzzel -d -p "Select layout: " | xargs -r mmsg -l

# View tag
bind=SUPER,1,view,1,0
bind=SUPER,2,view,2,0
bind=SUPER,3,view,3,0
bind=SUPER,4,view,4,0
bind=SUPER,5,view,5,0
bind=SUPER,6,view,6,0
bind=SUPER,7,view,7,0
bind=SUPER,8,view,8,0
bind=SUPER,9,view,9,0
bind=SUPER,0,view,0,0

# View more than one tag
bind=SUPER+CTRL,1,toggleview,1,0
bind=SUPER+CTRL,2,toggleview,2,0
bind=SUPER+CTRL,3,toggleview,3,0
bind=SUPER+CTRL,4,toggleview,4,0
bind=SUPER+CTRL,5,toggleview,5,0
bind=SUPER+CTRL,6,toggleview,6,0
bind=SUPER+CTRL,7,toggleview,7,0
bind=SUPER+CTRL,8,toggleview,8,0
bind=SUPER+CTRL,9,toggleview,9,0

# Move window to tag
# tag: move client to the tag and focus it
# tagsilent: move client to the tag and not focus it
bind=SUPER+SHIFT,1,tagsilent,1,0
bind=SUPER+SHIFT,2,tagsilent,2,0
bind=SUPER+SHIFT,3,tagsilent,3,0
bind=SUPER+SHIFT,4,tagsilent,4,0
bind=SUPER+SHIFT,5,tagsilent,5,0
bind=SUPER+SHIFT,6,tagsilent,6,0
bind=SUPER+SHIFT,7,tagsilent,7,0
bind=SUPER+SHIFT,8,tagsilent,8,0
bind=SUPER+SHIFT,9,tagsilent,9,0

# Copy window to tag
bind=SUPER+CTRL+SHIFT,1,toggletag,1
bind=SUPER+CTRL+SHIFT,2,toggletag,2
bind=SUPER+CTRL+SHIFT,3,toggletag,3
bind=SUPER+CTRL+SHIFT,4,toggletag,4
bind=SUPER+CTRL+SHIFT,5,toggletag,5
bind=SUPER+CTRL+SHIFT,6,toggletag,6
bind=SUPER+CTRL+SHIFT,7,toggletag,7
bind=SUPER+CTRL+SHIFT,8,toggletag,8
bind=SUPER+CTRL+SHIFT,9,toggletag,9

# monitor switch
bind=SUPER,comma,focusmon,left
bind=SUPER,period,focusmon,right
bind=SUPER+SHIFT,comma,tagmon,left
bind=SUPER+SHIFT,period,tagmon,right

# Mouse Button Bindings
# NONE mode key only work in ov mode
mousebind=SUPER,btn_left,moveresize,curmove
mousebind=SUPER+SHIFT,btn_left,moveresize,curresize
mousebind=SUPER,btn_right,moveresize,curresize

# Axis Bindings
axisbind=SUPER,UP,viewtoleft
axisbind=SUPER,DOWN,viewtoright
axisbind=SUPER+SHIFT,DOWN,switch_layout

# TUI apps launch hotkeys
bind=SUPER+SHIFT,Return,spawn,footclient
bind=SUPER+CTRL,Return,spawn,foot
bind=SUPER,e,spawn,footclient yazi
bind=SUPER,m,spawn,footclient rmpc
bind=SUPER+SHIFT,z,spawn,footclient wiremix

# Region screenshot
bind=None,Print,spawn_shell,grim -g "$(slurp)" -t ppm - | satty -f -
# Window screenshot
bind=SUPER,Print,spawn,mango-winscreenshot
# Full screenshot
bind=SHIFT,Print,spawn_shell,grim - | satty -f -
# Pick a color
bind=SUPER+SHIFT,Print,spawn,colorpick
# OCR
bind=CTRL,Print,spawn,screenocr
# Translate selected text
bind=SUPER,t,spawn,translate

# Apps launch hotkeys
bind=SUPER+SHIFT,t,spawn,Telegram
bind=SUPER+SHIFT,b,spawn,firefox

# Different menus using fuzzel
bind=SUPER,r,spawn,fuzzel
bind=None,XF86PowerOff,spawn,wlogout -b 5

# Lock screen
bind=SUPER,s,spawn,swaylock -f

# Wallpaper control
bind=SUPER,w,spawn_shell,fd -t file . ~/Pictures/Wallpapers/ | sort -R | head -n1 | xargs -r swww img
bind=SUPER+SHIFT,w,spawn_shell,swayimg -g ~/Pictures/Wallpapers

# Typing passwords
bind=SUPER+SHIFT,p,spawn,passmenu-ng --type
bind=SUPER+SHIFT,o,spawn,passmenu-ng --type otp
bind=SUPER+SHIFT,u,spawn,passmenu-ng --type user

# Clipboard history and wipe
bind=SUPER,v,spawn_shell,cliphist list | fuzzel --dmenu --with-nth 2 --width 60 | cliphist decode | wl-copy
bind=SUPER+SHIFT,v,spawn_shell,cliphist wipe && notify-send "Cliphist wiped"

# Hide the latest notification
bind=CTRL,space,spawn,makoctl dismiss

# Toggle waybar
bind=SUPER,b,spawn_shell,s6-svc -1 /run/user/$(id -u)/s6/service/waybar-srv

# Volume control
bind=None,XF86AudioMute,spawn,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind=None,XF86AudioRaiseVolume,spawn,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind=None,XF86AudioLowerVolume,spawn,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-

# Brightness control
bind=None,XF86MonBrightnessUp,spawn,xbacklight -inc 10
bind=None,XF86MonBrightnessDown,spawn,xbacklight -dec 10

# MPRIS control
bind=None,XF86AudioNext,spawn,playerctl next
bind=None,XF86AudioPrev,spawn,playerctl previous
bind=None,XF86AudioPlay,spawn,playerctl play-pause

# MPD control
bind=SUPER,XF86AudioNext,spawn,rmpc next
bind=SUPER,F6,XF86AudioNext,spawn,rmpc next
bind=SUPER,F4,spawn,rmpc prev
bind=SUPER,F5,spawn,rmpc togglepause

# Window rules
windowrule=appid:.*,allow_csd:0
windowrule=appid:org.telegram.desktop.*,title:Media viewer,isfullscreen:1,animation_type_open:none,animation_type_close:none
windowrule=appid:mpv,isfloating:1
windowrule=appid:firefox,title:Picture-in-Picture,isfloating:1,isglobal:1
windowrule=appid:virt-manager,tags:7,isopensilent:1
windowrule=appid:jetbrains-idea-ce,tags:4,isopensilent:1
windowrule=appid:com.obsproject.Studio,tags:8,isopensilent:1
windowrule=appid:steam,title:Steam,tags:9,isopensilent:1
windowrule=appid:steam,title:Friends List,tags:9,isfloating:1,isopensilent:1
windowrule=appid:steam,title:Special Offers,tags:9,isfloating:1,isopensilent:1

